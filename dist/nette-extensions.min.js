!function(a){$.nette.ext("error",{prepare:function(a){this.init(a)},error:function(b,c,d,e){"abort"!=c&&0!=b.readyState&&(a.showError("Link has failed to load."),console.log(arguments))},success:function(b,c,d,e){""==b&&e.error.showWarning&&a.showWarning("No response received")}},{defaults:{showWarning:!0},init:function(a){a.error=$.extend({},this.defaults,a.error)},ignoreWarning:function(a){this.init(a),a.error.showWarning=!1}})}(pipas.message),function(a,b,c){a.nette.ext("message",{init:function(){this.parseElement(a("body"))},success:function(b){if(b.snippets)for(var c in b.snippets)this.parseElement(a("#"+c))}},{mapping:{".flashMessage":"info",".flashMessageDanger":"danger",".flashMessageInfo":"info",".flashMessageSuccess":"success",".flashMessageWarning":"warning",".flashMessages .alert-error":"danger",".flashMessages .alert-danger":"danger",".flashMessages .alert-info":"info",".flashMessages .alert-success":"success",".flashMessages .alert-warning":"warning","form ul.error li":"danger","form .alert-danger":"danger"},parseElement:function(b,d){var e=this;for(var f in this.mapping)b.find(f).each(function(){c.show(a(this).html(),e.mapping[f],d,a(this).parent().attr("title")),a(this).remove()})}})}(jQuery,document,pipas.message),function(){$.nette.ext("missingSnippet",{prepare:function(a){a.missingSnippetEnabled=a.missingSnippetEnabled||!0},success:function(a,b,c,d){if(a.snippets&&d.missingSnippetEnabled)for(var e in a.snippets)0==$("#"+e).length&&(document.location.href=d.url)}},{disable:function(a){a.missingSnippetEnabled=!1},enable:function(a){a.missingSnippetEnabled=!0}})}(),function(a,b,c,d,e){a.nette.ext("modal-ajax",{prepare:function(a){this.init(a);var c;if(a.nette&&(c=a.nette.el)&&((c.hasClass("modal-ajax")||c.parents("#"+b.id).length>0)&&(a.modalAjax.enabled=!0),a.modalAjax.enabled)){c.hasClass("modal-ajax-md")?b.setSizeMedium():c.hasClass("modal-ajax-sm")?b.setSizeSmall():c.hasClass("modal-ajax-lg")&&b.setSizeLarge(),c.attr("title")&&b.setTitle(c.attr("title")),a.redirect=!1;var e=this.ext("spinner");e&&e.disable(a);var f=this.ext("missingSnippet");f&&f.disable(a);var g=this.ext("error");g&&g.ignoreWarning(a);var h=this;a.modalAjax.wasOpen=b.isVisible(),a.modalAjax.previousTitle=b.getTitle(),b.show(),b.showSpinner(),b.element().on("hide.bs.modal",function(){h.jqXHR&&h.jqXHR.abort()}),a.url=d.append(a.url,"_target","modal")}},before:function(a,b){b.modalAjax.enabled&&(this.jqXHR&&this.jqXHR.abort(),this.jqXHR=a)},success:function(d,f,g,h){if(h.modalAjax.enabled){if("string"==typeof d){var i=/^<[\!]?(doctype|html)[^>]*>/i;i.test(d)?(alert("Can not load content from url: "+h.url+" as modal, because is returning HTML page, but only clipping is expected"),""==b.getBody().trim()&&b.hide()):(b.setBody(d),b.moveButtons())}else if(d&&d.snippets){var j,k,l;for(l in this.snippetMap.title)if(j=d.snippets[this.snippetMap.title[l]]){b.setTitle(j);break}for(l in this.snippetMap.body)if(k=d.snippets[this.snippetMap.body[l]]){b.setBody(k),b.moveButtons();break}}else d&&(d.message?(c.showInfo(d.message),b.hide()):d[0]&&a.isArray(d)&&"string"==typeof d[0]&&(c.showInfo(d[0]),b.hide()),d.messageInfo&&(c.showInfo(d.messageInfo),b.hide()),d.messageError&&(c.showError(d.messageError),b.hide()),d.messageWarning&&(c.showWarning(d.messageWarning),b.hide()),d.messageSuccess&&(c.showSuccess(d.messageSuccess),b.hide()),d.refresh&&(b.hide(),e.show("refreshFromModal","body"),location.reload()));(!d||a.isEmptyObject(d)||"string"==typeof d&&""==d.trim())&&b.hide();var m=this.ext("message");m&&""!=b.getBody().trim()&&(m.parseElement(b.element()),""==b.getBody().trim()&&b.hide())}},error:function(a,c,d,e){e.modalAjax.enabled&&(b.setTitle(e.modalAjax.previousTitle),e.modalAjax.wasOpen||b.hide())},complete:function(a,c,d,e){d.modalAjax.enabled&&(b.hideSpinner(),this.jqXHR=null,e.load())}},{defaults:{enabled:!1,wasOpen:!1,previousTitle:""},init:function(b){b.modalAjax=a.extend({},this.defaults,b.modalAjax)},jqXHR:null,snippetMap:{title:["snippet--modalTitle"],body:["snippet--modalContent","snippet--modal"]}})}(jQuery,pipas.modal,pipas.message,pipas.url,pipas.spinner),function(a,b,c){a.nette.ext("redirect",!1),a.nette.ext("redirect",{init:function(){c.history.push(c.clean(b.location.href)),a(window).on("popstate",function(d){var e=d.originalEvent.state;e&&(e.type&&e.type===c.stateTypeName?a.nette.ajax({url:b.location.href,type:"GET"}):b.location.reload())})},prepare:function(a){if(void 0==a.redirect&&(a.redirect=!0),a.nette&&a.nette.el){var b=a.nette.el;b&&b.hasClass("no-redirect")&&(a.redirect=!1)}},success:function(d,e,f,g){if(g.redirect===!1)return!0;if("string"==typeof d&&this.startsWith(d.trim(),"<!DOCTYPE html"))b.location.href=g.url;else if(d.redirect){if(d.noAjax&&d.noAjax===!0)return b.location.href=d.redirect,!1;a.nette.ajax({url:d.redirect})}else(void 0==g.type||"get"==g.type)&&c.changeTo(g.url)}},{startsWith:function(a,b){var c=a.slice(0,b.length);return c.toLowerCase()==b.toLowerCase()}})}(jQuery,document,pipas.url),function(a,b,c,d){a.nette.ext("spinner",{init:function(){a(b).on("keydown keyup",function(a){116===a.which&&d.show("F5"),82===a.which&&a.ctrlKey&&d.show("CTRL+F5")}),d.cancel()},prepare:function(a){if(this.init(a),a.spinner.id||(a.spinner.id="spinner-"+Math.floor(1e3*Math.random()+1)),a.nette&&a.nette.el){var b=a.nette.el;if(b){if(b.hasClass("no-spinner"))return void(a.spinner.show=!1);if(a.nette.form&&a.nette.form.hasClass("no-spinner"))return void(a.spinner.show=!1);var c=b.data("spinner");c?a.spinner.parent=c:a.nette.form&&(c=a.nette.form.data("spinner"),c&&(a.spinner.parent=c))}}},start:function(a,b){b.spinner.show&&d.show(b.spinner.id,b.spinner.parent)},complete:function(a,b,c){c.spinner.show&&d.hide(c.spinner.id)}},{defaults:{show:!0,parent:null,id:null},init:function(b){b.spinner=a.extend({},this.defaults,b.spinner)},disable:function(a){return this.init(a),a.spinner.show=!1,this}})}(jQuery,document,window,pipas.spinner),function(a,b){a.nette.ext("table-fixedHeader",{init:function(){a(b).on("scroll",{ext:this},this.moveEvent).on("resize",{ext:this},this.remakeAndMoveEvent)},load:function(){this.remake(),this.move()}},{targetClass:"table-fixedHeader",headerClass:"fixed-header-of-table",tables:[],remakeAndMoveEvent:function(a){var b=a.data.ext;b.remake(),b.move()},moveEvent:function(a){a.data.ext.move()},remake:function(){a("."+this.headerClass).remove(),this.tables=[];var b=this;a("."+this.targetClass).each(function(){var c=a(this),d=b.createId(c);b.createHeader(c,d),b.tables[d]=c})},move:function(){var c=parseInt(a("body").css("paddingTop")),d=a(b).scrollTop(),e=a(b).scrollLeft();for(var f in this.tables){var g=this.tables[f].offset().top-c,h=this.tables[f].find("thead").height(),i=g+this.tables[f].height()-h+c,j=a("#"+this.tables[f].attr("data-fixed-header-id"));if(d>=g&&j.is(":hidden")&&i>=d){j.show();var k=j.attr("data-leftOffset");("undefined"==typeof k||k===!1)&&j.attr("data-leftOffset",j.offset().left-e),j.css("top",c)}else(g>d||d>i)&&j.hide();var l=parseInt(j.attr("data-leftOffset"));l&&j.css("left",l-e)}},createId:function(a){var b=null!=a.attr("data-fixed-header-id")?a.attr("data-fixed-header-id"):"fixed-header-"+Math.floor(1e4*Math.random()+1);return a.attr("data-fixed-header-id",b),b},createHeader:function(b,c){var d=a(b[0].cloneNode(!1));return d.attr("id",c),d.addClass(this.headerClass),b.after(d),d.width(b.width()),b.find("> thead *").each(function(){a(this).width(a(this).width())}),d.append(b.find("> thead").clone()),d.css({position:"fixed",top:0,display:"none",borderBottom:"3px solid #666",zIndex:950}),d}})}(jQuery,window),function(a,b){a.nette.ext("unique",!1),a.nette.ext("unique",{init:function(){a(b).keyup(function(b){27==b.keyCode&&a.nette.ext("unique").abortAll()})},prepare:function(a){var b;if(void 0===a.unique&&(a.unique=null),a.nette&&a.nette.el){var c=a.nette.el;c&&(b=c.data("unique"),c.hasClass("no-unique")?a.unique=!1:c.hasClass("unique")&&(a.unique=!0))}"string"==typeof a.unique?(a.uniqueKey=a.unique,a.unique=null):b?a.uniqueKey=b:a.uniqueKey=a.url},before:function(a,b){null===b.unique?this.abortBy(b.uniqueKey):b.unique===!0&&this.abortAll(),void 0==this.XHRs[b.uniqueKey]&&(this.XHRs[b.uniqueKey]=[]),this.XHRs[b.uniqueKey].push([a])},complete:function(a,b,c){if(this.XHRs[c.uniqueKey]){var d=this.XHRs[c.uniqueKey].indexOf(a);d>=0&&this.XHRs[c.uniqueKey].splice(d,1),0==Object.keys(this.XHRs[c.uniqueKey]).length&&delete this.XHRs[c.uniqueKey]}}},{XHRs:{},abortAll:function(){for(var a in this.XHRs)this.abortBy(a)},abortBy:function(a){if(this.XHRs[a]){for(var b in this.XHRs[a])this.XHRs[a][b][0].abort();delete this.XHRs[a]}},setAsUnique:function(a){return a.unique=!0,this}})}(jQuery,document);